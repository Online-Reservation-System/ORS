{% load static %}
{% load mathfilters %}

<!DOCTYPE html>
<html lang="en">
  	<head>
		<meta charset="utf-8">
		<title>Update Trains</title>
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
		<!-- <link rel="stylesheet" type="text/css" href="{% static 'adminoptions/css/util.css' %}"> -->
		<link rel="stylesheet" type="text/css" href="{% static 'adminoptions/css/main.css' %}">
	

	</head>
  	<body class="body">
		<div class="topnav" id="myTopnav">
			<a href="{% url 'AdminOptions' %}" >Home</a>
			<a href="{% url 'AddAdmin' %}">Add Admin</a>
			<a href="" class="active">Update Trains</a>
			<a href="{% url 'Welcome' %}">Logout</a>
			<a href='#' id='nameofuser'>{{name}}</a>
		  </div>
 		<br>
    	<h1 class="col-md-12 text-center" style="color:white;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;text-align:left; ">Trains available</h1>
   		<br>
    	<div class="mytable col-md-10">
		<style>
		.body{
				background-image: url("{% static 'images/homepic.jpg' %}");
				background-repeat:no-repeat;
				background-size:100%;
				}
		.tbody1{
			background-color:whitesmoke;
		}
		.head1{
			background-color:whitesmoke;
		}
		.mytable
		{
			width:100%;
		}
		.form
		{
			background-color: whitesmoke;
			width:35%;
		}
		
		
		</style>
		<table class="table-bordered table-striped table-hover table-condensed  text-center" id="DyanmicTable">
			<thead class="head1" style="color:white">
				<tr>
					<th class="text-center">Train id</th>
					<th class="text-center">Train Name</th>
					<th class="text-center">status</th>
					<th class="text-center">Source</th>
					<th class="text-center">Destination</th>
					<th class="text-center">Start Time</th>
					<th class="text-center">Reach Time</th>
					<th class="text-center">Total Seats</th>
					<th class="text-center" button id="addNewRow" class="btn btn-primary btn-sm">Filled</button></th>
				</tr>
			</thead>
			<tbody class="tbody1">
				{% for Train in Train_data %}
				<tr>
					<td class="column1">{{Train.trainid}}</td>
					<td class="column2">{{Train.trainname}}</td>
					<td class="column2">{{Train.status}}</td>
					<td class="column5">{{Train.source}}</td>
					<td class="column6">{{Train.destination}}</td>
					<td class="column3">{{Train.starttime|date:'Y-m-d'}}T{{Train.starttime|time:'H:i:s'}}</td>
					<td class="column4">{{Train.endtime|date:'Y-m-d'}}T{{Train.endtime|time:'H:i:s'}}</td>
					<td class="column6">{{Train.totalseats}}</td>
					<td class="column6">{{Train.filled}}</td>
					
				
				</tr>
					
				{% endfor %}
				
			

		
			</tbody>
			
		</table>
		<br>
		<h1 style="color:white;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; background-color:#36304A;width:35%;border-radius:6px;padding:2px; ">Add or Update a Train</h1>
		<div class="form">
		<form method="POST">
			{% csrf_token %}
			<table class="table-bordered table-striped table-hover table-condensed  text-center" id="DyanmicTable">
				<tbody class="tbody1">
					<tr>
						<td class="column1"><span style="font-weight: bold;width:30px;">Train Details</span></td>
						<td><input  type="text" style="background-color:white;border:2px solid #36304A" name="trainid" placeholder="Trainid" required></td>
						<td><input type="text" name="trainname" placeholder="Trainname" required></td>
					</tr>
					<tr>
						<td class="column1"><span style="font-weight: bold;width:30px">Status</span></td>
						<td><input type="text" name="status"  placeholder="Status" required></td>
					</tr>
					<tr>
						<td class="column1"><span style="font-weight: bold;">Station Details</span></td>
						<td><input type="text" name="source" placeholder="Source" required></td>
					    <td><input type="text" name="destination" placeholder="Destination" required></td>
					</tr>
					<tr>
						<td class="column1"><span style="font-weight: bold;width:30px">Start time</span></td>
					    <td><input type="datetime-local" name="starttime" placeholder="Starttime" required></td>
					</tr>
					<tr>
						<td class="column1"><span style="font-weight: bold;width:100px;">Reach time</span></td>
						<td><input type="datetime-local" name="endtime" placeholder="Reachtime" required></td>
					</tr>
					<tr>
						<td class="column1"><span style="font-weight: bold;">Seats Details</span></td>
						<td><input type="number" name="totalseats" placeholder="Total Seats" required></td>
						<td><input type="number" name="filled"  placeholder="Filled" required></td>
					</tr>	
					
					<tr>
						<td></td>
						<td></td>
						<td><input type="submit" value="Confirm Changes" style="padding:4px;border-radius:4px;height:25px;color: aliceblue;background-color:#36304A"></td>
					</tr>
				</tbody>
		</table>
		</form>
	</div>

<!--JS Files-->
<!-- <script  src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="   crossorigin="anonymous"></script> -->
<script src="{% static 'updatetrains/bootstable.min.js' %}"></script>
<script>
 $('#DyanmicTable').SetEditable({ $addButton: $('#addNewRow')});
</script>
</body>
</html>